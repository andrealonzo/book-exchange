<html>

    <head>
        <title>Clementine.js - The elegant and lightweight full stack JavaScript boilerplate.</title>

        <link href="http://fonts.googleapis.com/css?family=Roboto:400,500" rel="stylesheet" type="text/css">
        <link href="/public/css/main.css" rel="stylesheet" type="text/css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0/react.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0/react-dom.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.6.15/browser.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script type="text/javascript" src="public/js/ajax-functions.js"></script>
    </head>

    <body>
        <div id = "profile" class="container">
        </div>
        <script type="text/babel">
        
    var profileUrl=window.location.origin + "/api/profile";
            var Profile = React.createClass({
                getInitialState:function(){
                    
             return {user: 0};  
            
           },
            componentDidMount: function(){
             ajaxRequest (
                   'GET', 
                   profileUrl,
                  function(data){
                     this.setState({user:data});
                   }.bind(this)
                   );
           },
                render:function(){
                    return(
                    <div className="github-profile">
                        <img src="/public/img/gh-mark-32px.png" alt="github logo" />
                        <p><span>ID: </span><span id="profile-id" className="profile-value">{this.state.user.id}</span></p>
                        <p><span>Username: </span><span id="profile-username" className="profile-value">{this.state.user.username}</span></p>
                        <p><span>Display Name: </span><span id="display-name" className="profile-value">{this.state.user.displayName}</span></p>
                        <p><span>Repositories: </span><span id="profile-repos" className="profile-value">{this.state.user.publicRepos}</span></p>
                        <a className="menu" href="/">Home</a>
                        <p id="menu-divide">|</p>
                        <a className="menu" href="/logout">Logout</a>
                    </div>
                        );
                }
            });
            ReactDOM.render(
               <Profile/>,
               document.getElementById('profile')
            );
        </script>

    </body>

</html>